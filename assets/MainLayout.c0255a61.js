import{c as $,w as L,o as F,a as O,n as W,g as B,b as E,l as k,d as N,e as V,r as m,i as j,f as C,h as c,j as x,p as A,k as U,m as D,q as v,s as I,_ as K,t as G,u as J,v as X,x as Y,y as Z}from"./index.283e6f79.js";import{Q as H}from"./QResizeObserver.b26ed3a4.js";const{passive:R}=k,ee=["both","horizontal","vertical"];var te=$({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ee.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:S}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,r,u;L(()=>e.scrollTarget,()=>{d(),b()});function s(){n!==null&&n();const h=Math.max(0,N(r)),g=V(r),a={top:h-o.position.top,left:g-o.position.left};if(e.axis==="vertical"&&a.top===0||e.axis==="horizontal"&&a.left===0)return;const p=Math.abs(a.top)>=Math.abs(a.left)?a.top<0?"up":"down":a.left<0?"left":"right";o.position={top:h,left:g},o.directionChanged=o.direction!==p,o.delta=a,o.directionChanged===!0&&(o.direction=p,o.inflectionPoint=o.position),S("scroll",{...o})}function b(){r=B(u,e.scrollTarget),r.addEventListener("scroll",i,R),i(!0)}function d(){r!==void 0&&(r.removeEventListener("scroll",i,R),r=void 0)}function i(h){if(h===!0||e.debounce===0||e.debounce==="0")s();else if(n===null){const[g,a]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];n=()=>{a(g),n=null}}}const{proxy:y}=E();return L(()=>y.$q.lang.rtl,s),F(()=>{u=y.$el.parentNode,b()}),O(()=>{n!==null&&n(),d()}),Object.assign(y,{trigger:i,getPosition:()=>o}),W}}),oe=$({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:S,emit:o}){const{proxy:{$q:n}}=E(),r=m(null),u=m(n.screen.height),s=m(e.container===!0?0:n.screen.width),b=m({position:0,direction:"down",inflectionPoint:0}),d=m(0),i=m(j.value===!0?0:C()),y=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),h=c(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),g=c(()=>i.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),a=c(()=>i.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function p(t){if(e.container===!0||document.qScrollPrevented!==!0){const l={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};b.value=l,e.onScroll!==void 0&&o("scroll",l)}}function M(t){const{height:l,width:f}=t;let w=!1;u.value!==l&&(w=!0,u.value=l,e.onScrollHeight!==void 0&&o("scrollHeight",l),_()),s.value!==f&&(w=!0,s.value=f),w===!0&&e.onResize!==void 0&&o("resize",t)}function Q({height:t}){d.value!==t&&(d.value=t,_())}function _(){if(e.container===!0){const t=u.value>d.value?C():0;i.value!==t&&(i.value=t)}}let z=null;const P={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:r,height:u,containerHeight:d,scrollbarWidth:i,totalWidth:c(()=>s.value+i.value),rows:c(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:b,animate(){z!==null?clearTimeout(z):document.body.classList.add("q-body--layout-animate"),z=setTimeout(()=>{z=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,l,f){P[t][l]=f}};if(A(I,P),C()>0){let f=function(){t=null,l.classList.remove("hide-scrollbar")},w=function(){if(t===null){if(l.scrollHeight>n.screen.height)return;l.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(f,300)},T=function(q){t!==null&&q==="remove"&&(clearTimeout(t),f()),window[`${q}EventListener`]("resize",w)},t=null;const l=document.body;L(()=>e.container!==!0?"add":"remove",T),e.container!==!0&&T("add"),U(()=>{T("remove")})}return()=>{const t=D(S.default,[v(te,{onScroll:p}),v(H,{onResize:M})]),l=v("div",{class:y.value,style:h.value,ref:e.container===!0?void 0:r,tabindex:-1},t);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:r},[v(H,{onResize:Q}),v("div",{class:"absolute-full",style:g.value},[v("div",{class:"scroll",style:a.value},[l])])]):l}}});const ne={};function le(e,S){const o=G("router-view");return J(),X(oe,{view:"lHh Lpr lff"},{default:Y(()=>[Z(o)]),_:1})}var ae=K(ne,[["render",le]]);export{ae as default};
