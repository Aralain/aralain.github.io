"use strict";(self["webpackChunkquasar_project2"]=self["webpackChunkquasar_project2"]||[]).push([[413],{6413:(e,t,l)=>{l.r(t),l.d(t,{default:()=>pe});l(2100);var a=l(3673),o=l(1959),r=l(2323),s=l(8825),n=l(5429),u=l.n(n);class d{constructor(e){u()(this,"name",void 0),u()(this,"rowsDone",void 0),u()(this,"rowsTotal",void 0),u()(this,"repeat",void 0),u()(this,"patternStarts",void 0),u()(this,"id",void 0),u()(this,"notes",void 0),u()(this,"lastUpdated",void 0),void 0===e&&(e={}),this.name=e.name||"",this.rowsDone=e.rowsDone||0,this.rowsTotal=e.rowsTotal||0,this.repeat=e.repeat||0,this.patternStarts=e.patternStarts||0,this.id=e.id||0,this.notes=e.notes||"",this.lastUpdated=new Date(e.lastUpdated)||new Date}setId(e){this.id=e}reset(){this.name="",this.rowsDone=0,this.rowsTotal=0,this.repeat=0,this.patternStarts=0,this.id=0,this.notes=""}setValues(e){e&&(this.name=e.name||"",this.rowsDone=e.rowsDone||0,this.rowsTotal=e.rowsTotal||0,this.repeat=e.repeat||0,this.patternStarts=e.patternStarts||0,this.id=e.id||0,this.notes=e.notes||"",this.lastUpdated=new Date(e.lastUpdated)||new Date)}}var i=l(8880);const c={props:["projects","addProject"],emits:["view-project","delete-project"],setup(e,{emit:t}){return(t,l)=>{const o=(0,a.up)("q-item-label"),s=(0,a.up)("q-item-section"),n=(0,a.up)("q-icon"),u=(0,a.up)("q-item"),d=(0,a.up)("q-list");return e.addProject?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:0,dense:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.projects,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e.id,clickable:"",onClick:l=>t.$emit("view-project",e.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.name),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{overline:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.lastUpdated.toLocaleString()),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(s,{side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:"mdi-delete",onClick:(0,i.iM)((l=>t.$emit("delete-project",e.id)),["stop"])},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))}}};var m=l(7011),p=l(3414),w=l(2035),v=l(2350),g=l(4554),S=l(7518),f=l.n(S);const j=c,U=j;f()(c,"components",{QList:m.Z,QItem:p.Z,QItemSection:w.Z,QItemLabel:v.Z,QIcon:g.Z});const h={key:0,class:"row"},y=(0,a.Uk)("Delete All Projects"),q=(0,a.Uk)("Add Project"),k={class:"row"},b={key:0,class:"row"},V={class:"row"},W={props:{projects:Array,createFirst:Boolean},emits:["reload-projects"],setup(e,{emit:t}){const l=e,r=(0,s.Z)();let n=(0,o.iH)(new d),u=(0,o.iH)(!1),i=(0,o.iH)(!1),c=(0,o.iH)(!1);l.createFirst&&(i.value=!0);const m=()=>{let e=l.projects;c.value?e[n.value.id]=n.value:(n.value.setId(e.length+1),e.push(n.value)),localStorage.setItem("projects",JSON.stringify(e)),n.value.reset(),i.value=!1,t("reload-projects")},p=e=>{r.dialog({title:"Delete Project?",message:`Are you sure you want to delete ${l.projects[e].name}? This can't be undone.`,ok:{color:"primary",label:"Yes",flat:!0},cancel:{color:"secondary",label:"No",flat:!0}}).onOk((()=>{const a=e||n.value.id;let o=l.projects;o.splice(a,1),localStorage.setItem("projects",JSON.stringify(o)),t("reload-projects")})),c.value=!1,n.value.reset(),i.value=!1},w=()=>{c.value&&p(),n.value.reset(),i.value=!1},v=()=>{n.value.reset(),i.value=!1,c.value=!1},g=e=>{n.value=new d(l.projects[e]),n.value.repeat&&(u.value=!0),c.value=!0,i.value=!0},S=()=>{r.dialog({title:"Confirm Delete All?",message:"Are you sure you want to delete all your projects? This can't be undone. You can export them in the App Settings tab first to re-add later.",ok:{color:"primary",label:"Yes",flat:!0},cancel:{color:"secondary",label:"No",flat:!0}}).onOk((()=>{localStorage.removeItem("projects"),t("reload-projects")}))};return(t,l)=>{const r=(0,a.up)("q-btn"),s=(0,a.up)("q-space"),d=(0,a.up)("q-input"),f=(0,a.up)("q-toggle"),j=(0,a.up)("q-form"),W=(0,a.up)("q-card-section"),_=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(_,{square:"",flat:"",style:{width:"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,o.SU)(U),{projects:e.projects,"add-project":(0,o.SU)(i),onViewProject:g,onDeleteProject:p},null,8,["projects","add-project"]),(0,o.SU)(i)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",h,[(0,a.Wm)(r,{onClick:l[0]||(l[0]=e=>S())},{default:(0,a.w5)((()=>[y])),_:1}),(0,a.Wm)(s),(0,a.Wm)(r,{onClick:l[1]||(l[1]=e=>(0,o.dq)(i)?i.value=!0:i=!0),color:"primary"},{default:(0,a.w5)((()=>[q])),_:1})])),(0,o.SU)(i)?((0,a.wg)(),(0,a.j4)(j,{key:1,autofocus:"",onSubmit:m,onReset:w,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{filled:"",clearable:"",modelValue:(0,o.SU)(n).name,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,o.SU)(n).name=e),label:"Project Name",hint:"Project & Tab name"},null,8,["modelValue"]),(0,a._)("div",k,[(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).rowsDone,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,o.SU)(n).rowsDone=e),label:"Rows Done",class:"col q-mr-xs"},null,8,["modelValue"]),(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).rowsTotal,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,o.SU)(n).rowsTotal=e),label:"Rows Needed",class:"col q-ml-xs",hint:"Enter 0 for infinite counting"},null,8,["modelValue"])]),(0,a.Wm)(f,{modelValue:(0,o.SU)(u),"onUpdate:modelValue":l[5]||(l[5]=e=>(0,o.dq)(u)?u.value=e:u=e),label:"Pattern has repeat?"},null,8,["modelValue"]),(0,o.SU)(u)?((0,a.wg)(),(0,a.iD)("div",b,[(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).repeat,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,o.SU)(n).repeat=e),label:"Repeats every X rows",class:"col q-mr-xs"},null,8,["modelValue"]),(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).patternStarts,"onUpdate:modelValue":l[7]||(l[7]=e=>(0,o.SU)(n).patternStarts=e),label:"Pattern starts on row",hint:"Can use for number of setup rows before repeat",class:"col q-ml-xs"},null,8,["modelValue"])])):(0,a.kq)("",!0),(0,a._)("div",V,[(0,a.Wm)(r,{label:((0,o.SU)(c)?"Save":"Create")+" Project",type:"submit",color:"primary"},null,8,["label"]),(0,a.Wm)(r,{label:(0,o.SU)(c)?"Delete":"Reset",type:"reset",color:"grey",flat:"",class:"q-ml-sm"},null,8,["label"]),(0,a.Wm)(s),(0,a.Wm)(r,{label:"Cancel",color:"secondary",flat:"",onClick:l[8]||(l[8]=e=>v())})])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})}}};var _=l(151),D=l(5589),Z=l(8240),Q=l(2025),I=l(5269),C=l(4842),x=l(8886);const H=W,P=H;f()(W,"components",{QCard:_.Z,QCardSection:D.Z,QBtn:Z.Z,QSpace:Q.Z,QForm:I.Z,QInput:C.Z,QToggle:x.Z});const T={class:"row"},N=(0,a.Uk)("Import"),O={emits:["reload-projects","reload-keys"],setup(e,{emit:t}){const l=(0,s.Z)(),r=["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],n=(0,o.iH)(!1);localStorage.getItem("lightMode")&&(n.value=JSON.parse(localStorage.getItem("lightMode")));const u=()=>{l.dark.toggle(),localStorage.setItem("lightMode",JSON.stringify(n.value))},i=JSON.parse(localStorage.getItem("keys")),c=(0,o.iH)(i.inc||"Space"),m=(0,o.iH)(i.dec||"ArrowDown");(0,a.YP)([c,m],(()=>{const e={inc:c.value,dec:m.value};localStorage.setItem("keys",JSON.stringify(e)),t("reload-keys")}));let p=(0,o.iH)(!1),w=(0,o.iH)("");const v=()=>{p.value&&(w.value=localStorage.getItem("projects"))};let g=(0,o.iH)(!1),S=(0,o.iH)("");const f=()=>{try{let e=JSON.parse(S.value),l=[];for(let t=0;t<e.length;t++){const a=new d(e[t]);l.push(a)}localStorage.setItem("projects",JSON.stringify(l)),t("reload-projects")}catch(e){l.dialog({title:"Error",message:"Your import string is in the wrong format. Your projects were not loaded.",ok:{color:"primary",label:"OK",flat:!0}})}finally{S.value="",g.value=!1}};return(e,t)=>{const l=(0,a.up)("q-toggle"),s=(0,a.up)("q-select"),d=(0,a.up)("q-input"),i=(0,a.up)("q-space"),j=(0,a.up)("q-btn"),U=(0,a.up)("q-card-section"),h=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(h,{square:"",flat:"",style:{width:"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),onClick:t[1]||(t[1]=e=>u()),label:"Light Mode","left-label":""},null,8,["modelValue"]),(0,a.Wm)(s,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),options:r,label:"Increment Key"},null,8,["modelValue"]),(0,a.Wm)(s,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e),options:r,label:"Decrement Key"},null,8,["modelValue"]),(0,a.Wm)(l,{modelValue:(0,o.SU)(p),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.dq)(p)?p.value=e:p=e),onClick:t[5]||(t[5]=e=>v()),label:"Export Projects as String","left-label":""},null,8,["modelValue"]),(0,o.SU)(p)?((0,a.wg)(),(0,a.j4)(d,{key:0,type:"textarea",filled:"",modelValue:(0,o.SU)(w),"onUpdate:modelValue":t[6]||(t[6]=e=>(0,o.dq)(w)?w.value=e:w=e)},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(l,{modelValue:(0,o.SU)(g),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,o.dq)(g)?g.value=e:g=e),label:"Import Projects as String","left-label":""},null,8,["modelValue"]),(0,o.SU)(g)?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,o.SU)(g)?((0,a.wg)(),(0,a.j4)(d,{key:0,type:"textarea",filled:"",modelValue:(0,o.SU)(S),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,o.dq)(S)?S.value=e:S=e)},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a._)("div",T,[(0,a.Wm)(i),(0,a.Wm)(j,{onClick:t[9]||(t[9]=e=>f()),color:"primary"},{default:(0,a.w5)((()=>[N])),_:1})])],64)):(0,a.kq)("",!0)])),_:1})])),_:1})}}};var Y=l(5439);const A=O,J=A;f()(O,"components",{QCard:_.Z,QCardSection:D.Z,QToggle:x.Z,QSelect:Y.Z,QInput:C.Z,QSpace:Q.Z,QBtn:Z.Z});const K={class:"row justify-center items-center"},R={class:"col-4"},B={class:"col-2"},M={key:0},z={class:"vertical-bottom"},F={class:"row"},L={props:["project"],emits:["increment","decrement"],setup(e,{emit:t}){const l=e,s=(0,a.Fl)((()=>Math.floor((l.project.rowsDone-1)/l.project.repeat))),n=(0,a.Fl)((()=>l.project.rowsDone-s.value*l.project.repeat));return(t,l)=>{const u=(0,a.up)("q-circular-progress"),d=(0,a.up)("q-btn"),i=(0,a.up)("q-space"),c=(0,a.up)("q-card-section");return(0,a.wg)(),(0,a.j4)(c,{class:"col"},{default:(0,a.w5)((()=>[(0,a._)("div",K,[(0,a._)("div",R,[(0,a.Wm)(u,{"show-value":"",value:e.project.rowsDone,size:"100px",max:parseInt(e.project.rowsTotal),color:"secondary"},null,8,["value","max"])]),(0,a._)("div",B,[(0,a.Wm)(d,{color:"primary",fab:"",icon:"mdi-plus",class:"q-ma-xs",onClick:l[0]||(l[0]=e=>t.$emit("increment"))}),(0,a.Wm)(d,{color:"primary",fab:"",class:"q-ma-xs",icon:"mdi-minus",onClick:l[1]||(l[1]=e=>t.$emit("decrement"))})])]),e.project.repeat?((0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("span",z,"x "+(0,r.zw)((0,o.SU)(s))+" +",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(parseInt((0,o.SU)(n)),(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"repeat-dot done vertical-bottom"})))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(parseInt(e.project.repeat-(0,o.SU)(n)),(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"repeat-dot notdone vertical-bottom"})))),128))])):(0,a.kq)("",!0),(0,a.Uk)(" of "+(0,r.zw)(e.project.rowsTotal)+" Total Rows ",1),(0,a._)("div",F,[(0,a.Wm)(i),(0,a.Uk)(" "+(0,r.zw)(e.project.lastUpdated.toLocaleString()),1)])])),_:1})}}};var E=l(6122);const $=L,X=$;f()(L,"components",{QCardSection:D.Z,QCircularProgress:E.Z,QBtn:Z.Z,QSpace:Q.Z});const G={class:"row justify-center"},ee={class:"row justify-center",style:{"text-align":"center"}},te=(0,a.Uk)(" Text "),le={setup(e){const t=(0,s.Z)();let l=(0,o.iH)(!0),n=(0,o.iH)("mdi-arrow-expand-left"),u=(0,o.iH)(!1),i=(0,o.iH)("settings"),c=(0,o.iH)(0),m=(0,o.iH)(!1),p=(0,o.iH)([]);const w=()=>{if(p.value=[],localStorage.getItem("projects"))try{let e=JSON.parse(localStorage.getItem("projects"));for(let t=0;t<e.length;t++){let l=new d(e[t]);l.setId(t),p.value.push(l)}p.value[0]?c.value=p.value[0].id:(m.value=!0,u.value=!0,i.value="project")}catch(e){t.dialog({title:"Error",message:"Something happened when loading your projects. Your projects have been cleared out.",ok:{color:"primary",label:"OK",flat:!0}}),localStorage.removeItem("projects")}};w();const v=()=>{p.value[c.value].lastUpdated=new Date,p.value[c.value].rowsDone++,U()},g=()=>{p.value[c.value].lastUpdated=new Date,p.value[c.value].rowsDone--,U()};let S=JSON.parse(localStorage.getItem("keys"));const f=()=>{S=JSON.parse(localStorage.getItem("keys"))};document.onkeyup=e=>{if("BODY"===e.target.tagName){if(e.code===S.inc)return void v();if(e.code===S.dec)return void g()}};const j=()=>{l.value=!l.value,l.value?n.value="mdi-arrow-expand-left":n.value="mdi-arrow-expand-right"},U=()=>{localStorage.setItem("projects",JSON.stringify(p.value))};if(localStorage.getItem("lightMode")){const e=JSON.parse(localStorage.getItem("lightMode"));!0===e&&t.dark.set(!1)}return(e,t)=>{const s=(0,a.up)("q-tab"),d=(0,a.up)("q-tabs"),S=(0,a.up)("q-space"),h=(0,a.up)("q-btn"),y=(0,a.up)("q-toolbar"),q=(0,a.up)("q-separator"),k=(0,a.up)("q-input"),b=(0,a.up)("q-expansion-item"),V=(0,a.up)("q-card-section"),W=(0,a.up)("q-tab-panel"),_=(0,a.up)("q-tab-panels"),D=(0,a.up)("q-card"),Z=(0,a.up)("q-dialog"),Q=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(Q,{style:{width:"80%"}},{default:(0,a.w5)((()=>[(0,a._)("div",G,[(0,a.Wm)(D,{flat:"",class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{shrink:"",modelValue:(0,o.SU)(c),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(c)?c.value=e:c=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(p),(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.id,name:e.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.name),1)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(S),(0,a.Wm)(h,{flat:"",round:"",dense:"",icon:"mdi-cog-outline",onClick:t[1]||(t[1]=e=>(0,o.dq)(u)?u.value=!(0,o.SU)(u):u=!(0,o.SU)(u))}),(0,a.Wm)(h,{flat:"",round:"",dense:"",icon:(0,o.SU)(n),onClick:t[2]||(t[2]=e=>j())},null,8,["icon"])])),_:1}),(0,a.Wm)(_,{modelValue:(0,o.SU)(c),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.dq)(c)?c.value=e:c=e),animated:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(p),(e=>((0,a.wg)(),(0,a.j4)(W,{key:e.id,name:e.id},{default:(0,a.w5)((()=>[(0,a._)("div",ee,[(0,a.Wm)((0,o.SU)(X),{project:e,onIncrement:v,onDecrement:g},null,8,["project"]),(0,o.SU)(l)?((0,a.wg)(),(0,a.j4)(q,{key:0,vertical:""})):(0,a.kq)("",!0),(0,o.SU)(l)?((0,a.wg)(),(0,a.j4)(V,{key:1,class:"col-6"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{dense:"",label:"Notes"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{modelValue:e.notes,"onUpdate:modelValue":t=>e.notes=t,type:"textarea",filled:"",label:"Notes",onBlur:t[3]||(t[3]=e=>U()),hint:"Saves when your cursor exits the field","hide-hint":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(b,{dense:"",label:"Stitches"},{default:(0,a.w5)((()=>[te])),_:1})])),_:2},1024)):(0,a.kq)("",!0)])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:1})]),(0,a.Wm)(Z,{modelValue:(0,o.SU)(u),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,o.dq)(u)?u.value=e:u=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:(0,o.SU)(i),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,o.dq)(i)?i.value=e:i=e),"active-color":"primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"App Settings",name:"settings"}),(0,a.Wm)(s,{label:"Projects",name:"project"})])),_:1},8,["modelValue"]),(0,a.Wm)(S),(0,a.Wm)(h,{flat:"",round:"",dense:"",icon:"mdi-close",onClick:t[6]||(t[6]=e=>(0,o.dq)(u)?u.value=!1:u=!1),ref:"settingsBtn"},null,512)])),_:1}),(0,a.Wm)(_,{modelValue:(0,o.SU)(i),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,o.dq)(i)?i.value=e:i=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{name:"settings"},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{onReloadProjects:w,onReloadKeys:f})])),_:1}),(0,a.Wm)(W,{name:"project"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{projects:(0,o.SU)(p),createFirst:(0,o.SU)(m),onReloadProjects:w},null,8,["projects","createFirst"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}}};var ae=l(4379),oe=l(9570),re=l(7547),se=l(8408),ne=l(5906),ue=l(6602),de=l(5869),ie=l(4615),ce=l(5926);const me=le,pe=me;f()(le,"components",{QPage:ae.Z,QCard:_.Z,QToolbar:oe.Z,QTabs:re.Z,QTab:se.Z,QSpace:Q.Z,QBtn:Z.Z,QTabPanels:ne.Z,QTabPanel:ue.Z,QSeparator:de.Z,QCardSection:D.Z,QExpansionItem:ie.Z,QInput:C.Z,QDialog:ce.Z})}}]);