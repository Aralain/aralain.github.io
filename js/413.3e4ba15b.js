"use strict";(self["webpackChunkquasar_project2"]=self["webpackChunkquasar_project2"]||[]).push([[413],{6413:(e,t,l)=>{l.r(t),l.d(t,{default:()=>pe});l(2100);var a=l(3673),o=l(1959),r=l(2323),s=l(8825),n=l(5429),u=l.n(n);class d{constructor(e){u()(this,"name",void 0),u()(this,"rowsDone",void 0),u()(this,"rowsTotal",void 0),u()(this,"repeat",void 0),u()(this,"patternStarts",void 0),u()(this,"id",void 0),u()(this,"notes",void 0),u()(this,"lastUpdated",void 0),void 0===e&&(e={}),this.name=e.name||"",this.rowsDone=e.rowsDone||0,this.rowsTotal=e.rowsTotal||0,this.repeat=e.repeat||0,this.patternStarts=e.patternStarts||0,this.id=e.id||0,this.notes=e.notes||"",this.lastUpdated=e.lastUpdated?new Date(e.lastUpdated):new Date}setId(e){this.id=e}reset(){this.name="",this.rowsDone=0,this.rowsTotal=0,this.repeat=0,this.patternStarts=0,this.id=0,this.notes=""}setValues(e){e&&(this.name=e.name||"",this.rowsDone=e.rowsDone||0,this.rowsTotal=e.rowsTotal||0,this.repeat=e.repeat||0,this.patternStarts=e.patternStarts||0,this.id=e.id||0,this.notes=e.notes||"",this.lastUpdated=new Date(e.lastUpdated)||new Date)}}var c=l(8880);const i={props:["projects","addProject"],emits:["view-project","delete-project"],setup(e,{emit:t}){return(t,l)=>{const o=(0,a.up)("q-item-label"),s=(0,a.up)("q-item-section"),n=(0,a.up)("q-icon"),u=(0,a.up)("q-item"),d=(0,a.up)("q-list");return e.addProject?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:0,dense:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.projects,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e.id,clickable:"",onClick:l=>t.$emit("view-project",e.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.name),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{overline:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.lastUpdated.toLocaleString()),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(s,{side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:"mdi-delete",onClick:(0,c.iM)((l=>t.$emit("delete-project",e.id)),["stop"])},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))}}};var p=l(7011),m=l(3414),w=l(2035),v=l(2350),g=l(4554),S=l(7518),f=l.n(S);const j=i,U=j;f()(i,"components",{QList:p.Z,QItem:m.Z,QItemSection:w.Z,QItemLabel:v.Z,QIcon:g.Z});const h={key:0,class:"row"},y=(0,a.Uk)("Delete All Projects"),k=(0,a.Uk)("Add Project"),q={class:"row"},b={key:0,class:"row"},V={class:"row"},W={props:{projects:Array,createFirst:Boolean},emits:["reload-projects"],setup(e,{emit:t}){const l=e,r=(0,s.Z)();let n=(0,o.iH)(new d),u=(0,o.iH)(!1),c=(0,o.iH)(!1),i=(0,o.iH)(!1);l.createFirst&&(c.value=!0);const p=()=>{let e=l.projects;i.value?e[n.value.id]=n.value:(n.value.setId(e.length+1),e.push(n.value)),localStorage.setItem("projects",JSON.stringify(e)),n.value.reset(),c.value=!1,t("reload-projects")},m=e=>{r.dialog({title:"Delete Project?",message:`Are you sure you want to delete ${l.projects[e].name}? This can't be undone.`,ok:{color:"primary",label:"Yes",flat:!0},cancel:{color:"secondary",label:"No",flat:!0}}).onOk((()=>{const a=e||n.value.id;let o=l.projects;o.splice(a,1),localStorage.setItem("projects",JSON.stringify(o)),t("reload-projects")})),i.value=!1,n.value.reset(),c.value=!1},w=()=>{i.value&&m(),n.value.reset(),c.value=!1},v=()=>{n.value.reset(),c.value=!1,i.value=!1},g=e=>{n.value=new d(l.projects[e]),n.value.repeat&&(u.value=!0),i.value=!0,c.value=!0},S=()=>{r.dialog({title:"Confirm Delete All?",message:"Are you sure you want to delete all your projects? This can't be undone. You can export them in the App Settings tab first to re-add later.",ok:{color:"primary",label:"Yes",flat:!0},cancel:{color:"secondary",label:"No",flat:!0}}).onOk((()=>{localStorage.removeItem("projects"),t("reload-projects")}))};return(t,l)=>{const r=(0,a.up)("q-btn"),s=(0,a.up)("q-space"),d=(0,a.up)("q-input"),f=(0,a.up)("q-toggle"),j=(0,a.up)("q-form"),W=(0,a.up)("q-card-section"),_=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(_,{square:"",flat:"",style:{width:"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,o.SU)(U),{projects:e.projects,"add-project":(0,o.SU)(c),onViewProject:g,onDeleteProject:m},null,8,["projects","add-project"]),(0,o.SU)(c)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",h,[(0,a.Wm)(r,{onClick:l[0]||(l[0]=e=>S())},{default:(0,a.w5)((()=>[y])),_:1}),(0,a.Wm)(s),(0,a.Wm)(r,{onClick:l[1]||(l[1]=e=>(0,o.dq)(c)?c.value=!0:c=!0),color:"primary"},{default:(0,a.w5)((()=>[k])),_:1})])),(0,o.SU)(c)?((0,a.wg)(),(0,a.j4)(j,{key:1,autofocus:"",onSubmit:p,onReset:w,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{filled:"",clearable:"",modelValue:(0,o.SU)(n).name,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,o.SU)(n).name=e),label:"Project Name",hint:"Project & Tab name"},null,8,["modelValue"]),(0,a._)("div",q,[(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).rowsDone,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,o.SU)(n).rowsDone=e),label:"Rows Done",class:"col q-mr-xs"},null,8,["modelValue"]),(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).rowsTotal,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,o.SU)(n).rowsTotal=e),label:"Rows Needed",class:"col q-ml-xs",hint:"Enter 0 for infinite counting"},null,8,["modelValue"])]),(0,a.Wm)(f,{modelValue:(0,o.SU)(u),"onUpdate:modelValue":l[5]||(l[5]=e=>(0,o.dq)(u)?u.value=e:u=e),label:"Pattern has repeat?"},null,8,["modelValue"]),(0,o.SU)(u)?((0,a.wg)(),(0,a.iD)("div",b,[(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).repeat,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,o.SU)(n).repeat=e),label:"Repeats every X rows",class:"col q-mr-xs"},null,8,["modelValue"]),(0,a.Wm)(d,{filled:"",type:"number",modelValue:(0,o.SU)(n).patternStarts,"onUpdate:modelValue":l[7]||(l[7]=e=>(0,o.SU)(n).patternStarts=e),label:"Pattern starts on row",hint:"Can use for number of setup rows before repeat",class:"col q-ml-xs"},null,8,["modelValue"])])):(0,a.kq)("",!0),(0,a._)("div",V,[(0,a.Wm)(r,{label:((0,o.SU)(i)?"Save":"Create")+" Project",type:"submit",color:"primary"},null,8,["label"]),(0,a.Wm)(r,{label:(0,o.SU)(i)?"Delete":"Reset",type:"reset",color:"grey",flat:"",class:"q-ml-sm"},null,8,["label"]),(0,a.Wm)(s),(0,a.Wm)(r,{label:"Cancel",color:"secondary",flat:"",onClick:l[8]||(l[8]=e=>v())})])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})}}};var _=l(151),D=l(5589),Z=l(8240),I=l(2025),Q=l(5269),C=l(4842),H=l(8886);const x=W,P=x;f()(W,"components",{QCard:_.Z,QCardSection:D.Z,QBtn:Z.Z,QSpace:I.Z,QForm:Q.Z,QInput:C.Z,QToggle:H.Z});const T={class:"row"},N=(0,a.Uk)("Import"),O={emits:["reload-projects","reload-keys"],setup(e,{emit:t}){const l=(0,s.Z)(),r=["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],n=(0,o.iH)(!1);localStorage.getItem("lightMode")&&(n.value=JSON.parse(localStorage.getItem("lightMode")));const u=()=>{l.dark.toggle(),localStorage.setItem("lightMode",JSON.stringify(n.value))};let c={};localStorage.getItem("keys")&&(c=JSON.parse(localStorage.getItem("keys")));const i=(0,o.iH)(c.inc||"Space"),p=(0,o.iH)(c.dec||"ArrowDown");(0,a.YP)([i,p],(()=>{const e={inc:i.value,dec:p.value};localStorage.setItem("keys",JSON.stringify(e)),t("reload-keys")}));let m=(0,o.iH)(!1),w=(0,o.iH)("");const v=()=>{m.value&&(w.value=localStorage.getItem("projects"))};let g=(0,o.iH)(!1),S=(0,o.iH)("");const f=()=>{try{let e=JSON.parse(S.value),l=[];for(let t=0;t<e.length;t++){const a=new d(e[t]);l.push(a)}localStorage.setItem("projects",JSON.stringify(l)),t("reload-projects")}catch(e){l.dialog({title:"Error",message:"Your import string is in the wrong format. Your projects were not loaded.",ok:{color:"primary",label:"OK",flat:!0}})}finally{S.value="",g.value=!1}};return(e,t)=>{const l=(0,a.up)("q-toggle"),s=(0,a.up)("q-select"),d=(0,a.up)("q-input"),c=(0,a.up)("q-space"),j=(0,a.up)("q-btn"),U=(0,a.up)("q-card-section"),h=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(h,{square:"",flat:"",style:{width:"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),onClick:t[1]||(t[1]=e=>u()),label:"Light Mode","left-label":""},null,8,["modelValue"]),(0,a.Wm)(s,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),options:r,label:"Increment Key"},null,8,["modelValue"]),(0,a.Wm)(s,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),options:r,label:"Decrement Key"},null,8,["modelValue"]),(0,a.Wm)(l,{modelValue:(0,o.SU)(m),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.dq)(m)?m.value=e:m=e),onClick:t[5]||(t[5]=e=>v()),label:"Export Projects as String","left-label":""},null,8,["modelValue"]),(0,o.SU)(m)?((0,a.wg)(),(0,a.j4)(d,{key:0,type:"textarea",filled:"",modelValue:(0,o.SU)(w),"onUpdate:modelValue":t[6]||(t[6]=e=>(0,o.dq)(w)?w.value=e:w=e)},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(l,{modelValue:(0,o.SU)(g),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,o.dq)(g)?g.value=e:g=e),label:"Import Projects as String","left-label":""},null,8,["modelValue"]),(0,o.SU)(g)?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,o.SU)(g)?((0,a.wg)(),(0,a.j4)(d,{key:0,type:"textarea",filled:"",modelValue:(0,o.SU)(S),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,o.dq)(S)?S.value=e:S=e)},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a._)("div",T,[(0,a.Wm)(c),(0,a.Wm)(j,{onClick:t[9]||(t[9]=e=>f()),color:"primary"},{default:(0,a.w5)((()=>[N])),_:1})])],64)):(0,a.kq)("",!0)])),_:1})])),_:1})}}};var A=l(5439);const Y=O,J=Y;f()(O,"components",{QCard:_.Z,QCardSection:D.Z,QToggle:H.Z,QSelect:A.Z,QInput:C.Z,QSpace:I.Z,QBtn:Z.Z});const K={class:"row justify-center items-center"},R={class:"col-4 text-h3"},B={class:"col-2"},M={key:0},z={class:"vertical-bottom"},F={class:"row"},L={props:["project"],emits:["increment","decrement"],setup(e,{emit:t}){const l=e,s=(0,a.Fl)((()=>Math.floor((l.project.rowsDone-l.project.patternStarts-1)/l.project.repeat))),n=(0,a.Fl)((()=>l.project.rowsDone-l.project.patternStarts-s.value*l.project.repeat));return(t,l)=>{const u=(0,a.up)("q-btn"),d=(0,a.up)("q-space"),c=(0,a.up)("q-card-section");return(0,a.wg)(),(0,a.j4)(c,{class:"col"},{default:(0,a.w5)((()=>[(0,a._)("div",K,[(0,a._)("div",R,(0,r.zw)(e.project.rowsDone),1),(0,a._)("div",B,[(0,a.Wm)(u,{color:"primary",fab:"",icon:"mdi-plus",class:"q-ma-xs",onClick:l[0]||(l[0]=e=>t.$emit("increment"))}),(0,a.Wm)(u,{color:"primary",fab:"",class:"q-ma-xs",icon:"mdi-minus",onClick:l[1]||(l[1]=e=>t.$emit("decrement"))})])]),e.project.repeat?((0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("span",z,"x "+(0,r.zw)((0,o.SU)(s))+" +",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(parseInt((0,o.SU)(n)),(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"repeat-dot done vertical-bottom"})))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(parseInt(e.project.repeat-(0,o.SU)(n)),(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"repeat-dot notdone vertical-bottom"})))),128))])):(0,a.kq)("",!0),(0,a.Uk)(" of "+(0,r.zw)(e.project.rowsTotal)+" Total Rows ",1),(0,a._)("div",F,[(0,a.Wm)(d),(0,a.Uk)(" "+(0,r.zw)(e.project.lastUpdated.toLocaleString()),1)])])),_:1})}}},E=L,$=E;f()(L,"components",{QCardSection:D.Z,QBtn:Z.Z,QSpace:I.Z});const X={class:"row justify-center"},G={class:"row justify-center",style:{"text-align":"center"}},ee=(0,a.Uk)(" Text "),te={setup(e){const t=(0,s.Z)();let l=(0,o.iH)(!0),n=(0,o.iH)("mdi-arrow-expand-left"),u=(0,o.iH)(!1),c=(0,o.iH)("settings"),i=(0,o.iH)(0),p=(0,o.iH)(!1),m=(0,o.iH)([]);const w=()=>{m.value=[];try{if(localStorage.getItem("projects")){let e=JSON.parse(localStorage.getItem("projects"));for(let t=0;t<e.length;t++){let l=new d(e[t]);l.setId(t),m.value.push(l)}}m.value[0]?i.value=m.value[0].id:(p.value=!0,u.value=!0,c.value="project")}catch(e){t.dialog({title:"Error",message:"Something happened when loading your projects. Your projects have been cleared out.",ok:{color:"primary",label:"OK",flat:!0}}),localStorage.removeItem("projects")}};w();const v=()=>{m.value[i.value].lastUpdated=new Date,m.value[i.value].rowsDone++,U()},g=()=>{m.value[i.value].lastUpdated=new Date,m.value[i.value].rowsDone--,U()};let S={};const f=()=>{localStorage.getItem("keys")&&(S=JSON.parse(localStorage.getItem("keys")))};f(),document.onkeyup=e=>{if("BODY"===e.target.tagName){if(e.code===S.inc||"Space"===e.code)return void v();if(e.code===S.dec||"ArrowDown"===e.code)return void g()}};const j=()=>{l.value=!l.value,l.value?n.value="mdi-arrow-expand-left":n.value="mdi-arrow-expand-right"},U=()=>{localStorage.setItem("projects",JSON.stringify(m.value))};if(localStorage.getItem("lightMode")){const e=JSON.parse(localStorage.getItem("lightMode"));!0===e&&t.dark.set(!1)}return(e,t)=>{const s=(0,a.up)("q-tab"),d=(0,a.up)("q-tabs"),S=(0,a.up)("q-space"),h=(0,a.up)("q-btn"),y=(0,a.up)("q-toolbar"),k=(0,a.up)("q-separator"),q=(0,a.up)("q-input"),b=(0,a.up)("q-expansion-item"),V=(0,a.up)("q-card-section"),W=(0,a.up)("q-tab-panel"),_=(0,a.up)("q-tab-panels"),D=(0,a.up)("q-card"),Z=(0,a.up)("q-dialog"),I=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(I,{style:{width:"80%"}},{default:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a.Wm)(D,{flat:"",class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{shrink:"",modelValue:(0,o.SU)(i),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(i)?i.value=e:i=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(m),(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.id,name:e.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.name),1)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(S),(0,a.Wm)(h,{flat:"",round:"",dense:"",icon:"mdi-cog-outline",onClick:t[1]||(t[1]=e=>(0,o.dq)(u)?u.value=!(0,o.SU)(u):u=!(0,o.SU)(u))}),(0,a.Wm)(h,{flat:"",round:"",dense:"",icon:(0,o.SU)(n),onClick:t[2]||(t[2]=e=>j())},null,8,["icon"])])),_:1}),(0,a.Wm)(_,{modelValue:(0,o.SU)(i),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.dq)(i)?i.value=e:i=e),animated:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(m),(e=>((0,a.wg)(),(0,a.j4)(W,{key:e.id,name:e.id},{default:(0,a.w5)((()=>[(0,a._)("div",G,[(0,a.Wm)((0,o.SU)($),{project:e,onIncrement:v,onDecrement:g},null,8,["project"]),(0,o.SU)(l)?((0,a.wg)(),(0,a.j4)(k,{key:0,vertical:""})):(0,a.kq)("",!0),(0,o.SU)(l)?((0,a.wg)(),(0,a.j4)(V,{key:1,class:"col-6"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{dense:"",label:"Notes"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{modelValue:e.notes,"onUpdate:modelValue":t=>e.notes=t,type:"textarea",filled:"",label:"Notes",onBlur:t[3]||(t[3]=e=>U()),hint:"Saves when your cursor exits the field","hide-hint":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(b,{dense:"",label:"Stitches"},{default:(0,a.w5)((()=>[ee])),_:1})])),_:2},1024)):(0,a.kq)("",!0)])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:1})]),(0,a.Wm)(Z,{modelValue:(0,o.SU)(u),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,o.dq)(u)?u.value=e:u=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:(0,o.SU)(c),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,o.dq)(c)?c.value=e:c=e),"active-color":"primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"App Settings",name:"settings"}),(0,a.Wm)(s,{label:"Projects",name:"project"})])),_:1},8,["modelValue"]),(0,a.Wm)(S),(0,a.Wm)(h,{flat:"",round:"",dense:"",icon:"mdi-close",onClick:t[6]||(t[6]=e=>(0,o.dq)(u)?u.value=!1:u=!1),ref:"settingsBtn"},null,512)])),_:1}),(0,a.Wm)(_,{modelValue:(0,o.SU)(c),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,o.dq)(c)?c.value=e:c=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{name:"settings"},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{onReloadProjects:w,onReloadKeys:f})])),_:1}),(0,a.Wm)(W,{name:"project"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{projects:(0,o.SU)(m),createFirst:(0,o.SU)(p),onReloadProjects:w},null,8,["projects","createFirst"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}}};var le=l(4379),ae=l(9570),oe=l(7547),re=l(8408),se=l(5906),ne=l(6602),ue=l(5869),de=l(4615),ce=l(5926);const ie=te,pe=ie;f()(te,"components",{QPage:le.Z,QCard:_.Z,QToolbar:ae.Z,QTabs:oe.Z,QTab:re.Z,QSpace:I.Z,QBtn:Z.Z,QTabPanels:se.Z,QTabPanel:ne.Z,QSeparator:ue.Z,QCardSection:D.Z,QExpansionItem:de.Z,QInput:C.Z,QDialog:ce.Z})}}]);